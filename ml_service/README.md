# ML Service с ORM SQLAlchemy

## Описание реализации

В рамках задания №1 была реализована интеграция объектной модели приложения с базой данных с использованием ORM SQLAlchemy. 

### Основные компоненты реализации:

1. **Конфигурация базы данных (db_config.py)**:
   - Настройка подключения к SQLite БД
   - Инициализация движка БД
   - Создание базового класса для ORM моделей
   - Настройка фабрики сессий

2. **Модификация базовых моделей**:
   - Entity теперь наследуется от Base из SQLAlchemy
   - Добавлены колонки для всех полей моделей
   - Реализованы отношения между таблицами

3. **Модели пользователей и транзакций**:
   - User - модель пользователя с ролями
   - Balance - модель баланса пользователя
   - Transaction - модель транзакции
   - Связи между моделями через Foreign Keys и отношения SQLAlchemy

4. **Менеджеры для работы с моделями**:
   - UserManager - для работы с пользователями (создание, получение, обновление)
   - TransactionManager - для работы с транзакциями и балансом (пополнение, списание, история)

5. **Сценарий инициализации базы данных**:
   - Создание схемы БД
   - Создание демо-пользователя и демо-администратора
   - Инициализация баланса
   - Создание демонстрационных транзакций

6. **Тестирование функциональности**:
   - Тестирование операций с пользователями
   - Тестирование транзакций и баланса
   - Получение истории операций

## Как использовать

### Установка зависимостей:
```bash
pip install sqlalchemy bcrypt
```

### Инициализация базы данных:
```bash
python db_init.py
```

### Тестирование функциональности:
```bash
python test_db.py
```

## Реализованные возможности:

1. **Управление пользователями**:
   - Создание пользователей с различными ролями
   - Аутентификация пользователей
   - Обновление профиля пользователя
   - Управление статусом активности

2. **Финансовые операции**:
   - Пополнение баланса пользователя
   - Списание средств с баланса
   - Получение текущего баланса

3. **Работа с транзакциями**:
   - Создание транзакций разных типов 
   - Получение истории транзакций
   - Фильтрация транзакций по типу 